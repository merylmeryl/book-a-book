_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"+Yye":function(t,e,r){"use strict";var c=r("nKUr"),s=function(t){if(null==t&&void 0==t)return"";try{var e=new Date(t);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(e)}catch(r){return""}},n=function(t){var e=t.book,r=t.cols,n="px-5 py-5 border-b border-gray-200 bg-yellow-50 text-sm";return Object(c.jsxs)("tr",{children:[r.title?Object(c.jsx)("td",{className:n,children:e.title}):Object(c.jsx)(c.Fragment,{}),r.author?Object(c.jsx)("td",{className:n,children:e.author}):Object(c.jsx)(c.Fragment,{}),r.description?Object(c.jsx)("td",{className:n,children:e.description}):Object(c.jsx)(c.Fragment,{}),r.isbn?Object(c.jsx)("td",{className:n,children:e.isbn}):Object(c.jsx)(c.Fragment,{}),r.state?Object(c.jsx)("td",{className:n,children:e.state}):Object(c.jsx)(c.Fragment,{}),r.historyState?Object(c.jsx)("td",{className:n,children:e.history.state}):Object(c.jsx)(c.Fragment,{}),r.historyDate?Object(c.jsx)("td",{className:n,children:s(e.history.actionDate)}):Object(c.jsx)(c.Fragment,{})]})};e.a=function(t){var e=t.books,r=t.emptyMessage,s=t.cols,a="px-5 py-3 border-b-2 border-gray-200 bg-gray-800 text-left text-xs font-semibold text-white uppercase tracking-wider";return null===e||void 0===e||e.length<1?Object(c.jsx)("div",{className:" text-center rounded text-gray-800 mt-3 p-3 text-2xl bg-gray-300 bg-opacity-70",children:r}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"text-center text-white my-3 md:hidden",children:"\u2190 Scroll \u2192"}),Object(c.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:Object(c.jsxs)("table",{className:"min-w-full leading-normal",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[s.title?Object(c.jsx)("th",{className:a,children:"Title"}):Object(c.jsx)(c.Fragment,{}),s.author?Object(c.jsx)("th",{className:a,children:"Author"}):Object(c.jsx)(c.Fragment,{}),s.description?Object(c.jsx)("th",{className:a,children:"Description"}):Object(c.jsx)(c.Fragment,{}),s.isbn?Object(c.jsx)("th",{className:a,children:"ISBN"}):Object(c.jsx)(c.Fragment,{}),s.state?Object(c.jsx)("th",{className:a,children:"Status"}):Object(c.jsx)(c.Fragment,{}),s.historyState?Object(c.jsx)("th",{className:a,children:"State"}):Object(c.jsx)(c.Fragment,{}),s.historyDate?Object(c.jsx)("th",{className:a,children:"Date"}):Object(c.jsx)(c.Fragment,{})]})}),Object(c.jsx)("tbody",{className:"text-sm font-normal text-gray-700",children:e.map((function(t,e){return Object(c.jsx)(n,{book:t,cols:s},"book-item-".concat(t.isbn,"-").concat(e))}))})]})})]})}},K1zc:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return l}));var c=r("nKUr"),s=r("80PL"),n=r("LBrS"),a=r("+Yye"),i=r("VtrM"),o=function(){return fetch.apply(void 0,arguments).then((function(t){return t.json()}))};var j=r("7r2f");function l(){var t,e=function(){var t=[],e=0,r=Object(i.a)("/api/books/historyReport",o,{refreshInterval:1e3}),c=r.data,s=r.error;return null!==c&&void 0!==c&&(t=c.data,e=c.count),{loading:!c&&!s,error:s,books:t,count:e}}(),r=e.loading,l=e.error,b=e.books;e.count;return t=l?Object(c.jsx)(j.a,{children:Object(c.jsx)("main",{className:"text-red-500 text-center",children:"Failed to load -_-"})}):r?Object(c.jsx)(j.a,{children:Object(c.jsx)("main",{className:"text-gray-500 text-center",children:"Loading..."})}):Object(c.jsx)(a.a,{books:b,emptyMessage:"Hmm, it seems there has been no activity yet. Try checking out a book.",cols:{title:!0,author:!0,description:!0,isbn:!0,state:!1,historyState:!0,historyDate:!0}}),Object(c.jsxs)(s.a,{children:[Object(c.jsx)(n.a,{text:"History"}),Object(c.jsx)("div",{children:t})]})}},"vT/S":function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bookHistoryReport",function(){return r("K1zc")}])}},[["vT/S",0,2,3,1,4,5]]]);